<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Music Toy Shop</title>
    <link rel="icon" href="./images/jea01-jarhz-001.ico" type="image/x-icon" />
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
        }

        body {
            text-align: center;
            padding: 0;
            /* height: 100%; */
            background-image: url('./images/bg.png');
            background-size: cover;
            background-repeat: no-repeat;
            /* ä¸é‡è¤‡é¡¯ç¤ºèƒŒæ™¯åœ–ç‰‡ */
            background-attachment: fixed;
            /* å›ºå®šèƒŒæ™¯åœ–ä¸éš¨æ²å‹• */
            font-family: Arial, sans-serif;
        }

        .container {
            text-align: center;
            width: 85%;
            max-width: 1200px;
            margin: 0 auto;
            /* ä¿è­‰å…§å®¹å±…ä¸­ */
            padding-top: 20px;
        }

        h2 {
            font-size: 35px;
            font-weight: bold;
            margin: 30px;
            color: burlywood;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            font-size: 18px;
            width: 60%;
            table-layout: fixed;
            /* å¼·åˆ¶è¡¨æ ¼ç¶­æŒå›ºå®šå¯¬åº¦ */
            height: 80%;
            margin: 0 auto;
            /* background-color: rgba(255, 255, 255, 0.6); */
        }

        td,
        th {
            border-bottom: 1px solid lightgrey;
            padding: 8px;
            text-align: center;
            color: floralwhite;
            vertical-align: middle;
            /* è®“å…§å®¹åœ¨æ ¼å­å…§å‚ç›´ç½®ä¸­ */

        }

        tr:nth-child(even) {
            /* background-color: #dddddd; */
            background-color: rgb(250, 240, 255, 0.1);
        }

        tr {
            height: 55px;
        }

        .product {
            color: lightgray;
            font-size: 15px;
        }

        .specialDiscount {
            color: lightcoral;
        }

        .text-red {
            color: red;
            font-size: 30px;
        }

        img {
            width: 65%;
            height: 65%;
            object-fit: contain;
            border-radius: 10%;
        }

        .left-image img {
            width: 200px;
            height: 200px;
            position: fixed;
            bottom: -10px;
            left: 10px;
        }

        input {
            font-size: 18px;
            width: 50%;
            padding: 5px;
            box-sizing: border-box;
            text-align: center;
        }

        #sumResult {
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <h2>â‹† * â˜ª â‹† *Ì£Ì¥ â˜† Â·Í™Ì¥ â€§ â„ â€§Ì©Ì¥ â›„ Christmas Music Toy Shop ğŸ„ â€§Ì©Ì¥ â… Â· âœ© Â·Í™Ì¥ â‹† â˜ª *Ì£Ì¥ â‹†</h2>

    <table>
        <tr>
            <!-- <th>id</th> -->
            <th width="20%">ç”¢å“ç¤ºæ„åœ–</th>
            <th width="30%">ç”¢å“ä»‹ç´¹</th>
            <th width="15%">åƒ¹æ ¼</th>
            <th width="15%">æ•¸é‡</th>
            <th width="15%">å°è¨ˆ</th>
        </tr>

        <tr>
            <td>
                <img src="./images/1.png" alt="" srcset="">
            </td>
            <td>
                <p>
                    <b>â­ è–èª•æŸ´çŠ¬ - è–èª•ç‰¹åˆ¥æ¬¾ â­</b>
                </p>
                <br>
                <p class="product">
                    æŸ´çŠ¬å¸ƒå¶ / å¨ƒå¨ƒå…¬ä»” / æ¯›çµ¨ç©å¶ / è–èª•ç¦®ç‰©
                </p>
            </td>
            <td>
                <p class="priceClass" id="price1" data-price="200">
                    NT $ 200å…ƒ / å€‹
                </p>
            </td>
            <td>
                <input class="inputClass" type="number" name="" id="input1" value="0" max="30" min="0">
            </td>
            <td>
                <p class="totalClass" id="total1">
                    0
                </p>
            </td>
        </tr>

        <tr>
            <td>
                <img src="./images/2.png" alt="" srcset="">
            </td>
            <td>
                <p>
                    <b>â­è–èª•è€å…¬å…¬ / é›ªäºº / éº‹é¹¿ - è–èª•åŸºæœ¬æ¬¾â­</b>
                </p>
                <br>
                <p class="product">
                    è–èª•ç¯€ç©å¶çµ„ (è–èª•è€å…¬å…¬ / é›ªäºº / éº‹é¹¿)
                </p>
            </td>
            <td>
                <p class="priceClass" id="price2" data-price="600">
                    NT $ 600å…ƒ / çµ„
                </p>
            </td>
            <td>
                <input class="inputClass" type="number" name="" id="input2" value="0" max="30" min="0">
            </td>
            <td>
                <p class="totalClass" id="total2">
                    0
                </p>
            </td>
        </tr>

        <tr>
            <td>
                <img src="./images/3.png" alt="" srcset="">
            </td>
            <td>
                <p>
                    <b>â­ å‰ä¼Šå¡å“‡ - è–èª•ç³»åˆ— â­</b>
                </p>
                <br>
                <p class="product">
                    æ—¥æœ¬ Chiikawa å‰ä¼Šå¡å“‡ è–èª•ç¯€ç¦®å“
                </p>
            </td>
            <td>
                <p class="priceClass" id="price3" data-price="1000">
                    NT $ 1000å…ƒ / çµ„
                </p>
            </td>
            <td>
                <input class="inputClass" type="number" name="" id="input3" value="0" max="10" min="0">
            </td>
            <td>
                <p class="totalClass" id="total3">
                    0
                </p>
            </td>
        </tr>

        <tr>
            <td>
                <img src="./images/4.png" alt="" srcset="">
            </td>
            <td>
                <p>
                    <b>â­ è§’è½å°å¤¥ä¼´ - è–èª•ç³»åˆ— â­</b>
                </p>
                <br>
                <p class="product">
                    è§’è½å°å¤¥ä¼´ è–èª•ç¯€çµ¨æ¯›ç©å¶ / è–èª•ç¦®ç‰©
                </p>
            </td>
            <td>
                <p class="priceClass" id="price3" data-price="1500">
                    NT $ 1500å…ƒ / çµ„
                </p>
            </td>
            <td>
                <input class="inputClass" type="number" name="" id="input3" value="0" max="10" min="0">
            </td>
            <td>
                <p class="totalClass" id="total3">
                    0
                </p>
            </td>
        </tr>

        <tr>
            <td colspan="3" class="specialDiscount">
                <b>ğŸ”” æ­¡æ…¶ä½³ç¯€é™æ™‚æŠ˜æ‰£ï¼š ğŸ¦Œ æ»¿ 800 å…ƒ æ‰“ 8 æŠ˜ ğŸ›· æ»¿åƒé€ç¥ç¥•å°ç¦® ~ã€ æ•¸é‡æœ‰é™ï¼Œé€å®Œç‚ºæ­¢ ã€‘</b>
            </td>
            <td>
                <b>ğŸ… ç¸½è¨ˆé‡‘é¡ </b>
            </td>
            <!-- 
            <td>
            </td> -->
            <td>
                <p id="sumResult">
                    ğŸ 0 å…ƒ
                </p>

            </td>
        </tr>

    </table>

    <div class="left-image">
        <img src="./images/left-image.png" alt="å·¦åœ–" />
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        $(document).ready(function () {
            // function
            // get all Result => sum
            function getSum() {

                let sum = 0;
                totalClass.each(function (index, element) {
                    console.log('index', index);
                    console.log('element', element);
                    console.log('this', this);

                    let getTotalValue = Number($(this).text());
                    sum = sum + getTotalValue;

                });

                // é‡æ§‹
                if (sum >= 800) {
                    sum = sum * 0.8;
                    sumResult.attr('class', 'text-red');
                } else {
                    sumResult.attr('class', '');
                    // sumResult.removeClass('text-red');
                }

                let resultString = `ğŸ NT $ ${sum} å…ƒ`;
                sumResult.text(resultString);

            }

            // 1.bind
            const price1 = $('#price1');
            const input1 = $('#input1');
            const total1 = $('#total1');

            const priceClass = $('.priceClass');
            const inputClass = $('.inputClass');
            const totalClass = $('.totalClass');

            console.log('priceClass', priceClass);
            console.log('inputClass', inputClass);
            console.log('totalClass', totalClass);



            const sumResult = $('#sumResult');
            let sum = 0;


            // 2.action
            $.each(inputClass, function (indexInArray, valueOfElement) {
                $(this).change(function (e) {
                    console.log('chaneg ok');

                    // now ?
                    console.log('now $(this)', $(this));

                    // parent() tr
                    myParent = $(this).parent().parent();
                    console.log('myParent', myParent);

                    // find() .class
                    myPrice = myParent.find('.priceClass').attr('data-price');
                    console.log('myPrice', myPrice);

                    myTotal = myParent.find('.totalClass');


                    let getPriceValue = Number(myPrice);
                    let getInputValue = Number($(this).val());
                    let result = getPriceValue * getInputValue;
                    console.log(getPriceValue);
                    console.log(getInputValue);
                    console.log(result);
                    myTotal.text(result);

                    getSum();
                });


            });
        });
    </script>
</body>

</html>